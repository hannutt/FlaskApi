<!DOCTYPE html>
<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
 
  <input hidden type="text" name="dbname" id="dbname" value="{{dbname}}">
  <select name="cols" id="cols" onchange="GetSelectionFromSelect(this)">

    <option value="default" selected>Select Collection</option>
    <!--
          <option value="mongodb://localhost:27017/quizDB">quizDB</option>-->
    
    {% for c in cols %}
    <option value="mongodb://localhost:27017/{{each}}">{{c}}</option>
    {% endfor %}
  </select>
  <script>
    
   

    function GetSelectionFromSelect(sel) {
      var path = localStorage.getItem('db')
      //alert(sel.options[sel.selectedIndex].text);
      document.getElementById("path").innerHTML = path+"/"+ sel.options[sel.selectedIndex].text
      document.getElementById("colname").value=sel.options[sel.selectedIndex].text
      document.getElementById("DBpath").value= path
    }
  </script>

  
  <p id="path"class="path"></p>

 <form action="{{ url_for('show_data')}}" method="post">
  <input type="text" name="selecDB" value="{{selectedDB}}">
  <input type="text" id="colname" name="colname">
  <!--
  <input type="text" name="DBpath" id="DBpath">-->
  <button>Show</button>
  <p>{{dict_keys}}</p>
{% for r in l %}

<p id="oid" class="oid">{{r._id}}</p>
<p>{{r}}</p>

<!--
  

<p>{{r.name}} | {{r.points}}</p>-->
{%endfor%}
 </form>
</body>
<script>
  //jquery funktio näyttää jokaisen _id-arvon kun sitä klikkaa hiirellä.
  jQuery(".oid").click(function() {
   event.preventDefault();
   var text = jQuery(this).text();
   console.log(text.trim());
   alert(text.trim());
 });
 
 </script>



</html>